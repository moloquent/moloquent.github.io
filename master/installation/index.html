<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
        <link rel="canonical" href="https://moloquent.github.io/master/installation/">
    
        <link rel="shortcut icon" href="../../img/favicon.ico">

    <title>Installation - Moloquent</title>

    <link href="../../css/application.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                            (i[r].q = i[r].q || []).push(arguments)
                        }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-83645466-1', 'moloquent.github.io');
            ga('send', 'pageview');
        </script>
    
</head>

<body>

<div class="navbar navbar-default navbar-fixed-top"
     role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../">Moloquent</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
                
                    
                        <li >
                            <a href="../">Welcome</a>
                        </li>
                    
                
                    
                        <li class="active">
                            <a href="./">Installation</a>
                        </li>
                    
                
                    
                        <li >
                            <a href="../eloquent/">Eloquent</a>
                        </li>
                    
                
                    
                        <li >
                            <a href="../builder/">Query Builder</a>
                        </li>
                    
                
                    
                        <li >
                            <a href="../schema/">Schema</a>
                        </li>
                    
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extensions <b
                                    class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                    
<li >
    <a href="../extensions/auth/">Auth</a>
</li>

                                
                                    
<li >
    <a href="../extensions/queue/">Queues</a>
</li>

                                
                                    
<li >
    <a href="../extensions/sentry/">Sentry</a>
</li>

                                
                                    
<li >
    <a href="../extensions/session/">Session</a>
</li>

                                
                            </ul>
                        </li>
                    
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Usage <b
                                    class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                    
<li >
    <a href="../usage/basic/">Basic</a>
</li>

                                
                                    
<li >
    <a href="../usage/advanced/">Advanced</a>
</li>

                                
                                    
<li >
    <a href="../usage/relations/">Relations</a>
</li>

                                
                                    
<li >
    <a href="../usage/mongodb/">MongoDB specific</a>
</li>

                                
                            </ul>
                        </li>
                    
                
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i>
                    </a>
                </li>
                
                    <li>
                        <a href="https://github.com/moloquent" target="_blank">
                            
                                <i class="fa fa-github"></i>
                            
                        </a>
                    </li>
                
                <li class="dropdown">
                    <button class="btn dropdown-toggle btn-danger btn-version" data-toggle="dropdown">
                        Master
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="">
                                    Master
                                </a>
                            </li>
                        
                    </ul>
                </li>
            </ul>

        </div>
    </div>
</div>

<div class="container" id="content">
    <div class="col-md-3">
            <div class="bs-sidebar hidden-print affix nano" role="complementary">
    <div class="nano-content">
        <ul class="nav bs-sidenav">
            
            <li class="main active"><a href="#installation">Installation</a></li>
            
            <li><a href="#laravel-version-compatibility">Laravel version Compatibility</a></li>
            
            
            <li class="main "><a href="#configuration">Configuration</a></li>
            
            
        </ul>
    </div>
</div>
    </div>
    <div class="col-md-9" role="main">

<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">#</a></h2>
<p>Make sure you have the MongoDB PHP driver installed.
You can find installation instructions at http://php.net/manual/en/mongodb.installation.php.</p>
<p>Installation using composer:</p>
<pre><code class="bash">composer require moloquent/moloquent
</code></pre>

<h3 id="laravel-version-compatibility">Laravel version Compatibility<a class="headerlink" href="#laravel-version-compatibility" title="Permanent link">#</a></h3>
<table>
<thead>
<tr>
<th align="left">Laravel</th>
<th align="left">Package</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">5.1.x</td>
<td align="left">&gt;= 3.0</td>
</tr>
<tr>
<td align="left">5.2.x</td>
<td align="left">&gt;= 3.0</td>
</tr>
<tr>
<td align="left">5.3.x</td>
<td align="left">&gt;= 3.1</td>
</tr>
</tbody>
</table>
<p>And add the service provider in <code>config/app.php</code>:</p>
<pre><code class="php">Moloquent\MongodbServiceProvider::class,
</code></pre>

<p>For usage with <a href="http://lumen.laravel.com">Lumen</a>, add the service provider in <code>bootstrap/app.php</code>. In this file, you will also need to enable Eloquent. You must however ensure that your call to <code>$app-&gt;withEloquent();</code> is <strong>below</strong> where you have registered the <code>MongodbServiceProvider</code>:</p>
<pre><code class="php">$app-&gt;register('Moloquent\MongodbServiceProvider');

$app-&gt;withEloquent();
</code></pre>

<p>The service provider will register a mongodb database extension with the original database manager. There is no need to register additional facades or objects. When using mongodb connections, Laravel will automatically provide you with the corresponding mongodb objects.</p>
<p>For usage outside Laravel, check out the <a href="https://github.com/illuminate/database/blob/master/README.md">Capsule manager</a> and add:</p>
<pre><code class="php">$capsule-&gt;getDatabaseManager()-&gt;extend('mongodb', function($config)
{
    return new \Moloquent\Connection($config);
});
</code></pre>

<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">#</a></h2>
<p>Change your default database connection name in <code>app/config/database.php</code>:</p>
<pre><code class="php">'default' =&gt; env('DB_CONNECTION', 'mongodb'),
</code></pre>

<p>And add a new mongodb connection:</p>
<pre><code class="php">'mongodb' =&gt; [
    'driver'   =&gt; 'mongodb',
    'host'     =&gt; env('DB_HOST', 'localhost'),
    'port'     =&gt; env('DB_PORT', 27017),
    'database' =&gt; env('DB_DATABASE'),
    'username' =&gt; env('DB_USERNAME'),
    'password' =&gt; env('DB_PASSWORD'),
    'options' =&gt; [
        'database' =&gt; 'admin' // sets the authentication database required by mongo 3
    ]
],
</code></pre>

<p>You can connect to multiple servers or replica sets with the following configuration:</p>
<pre><code class="php">'mongodb' =&gt; [
    'driver'   =&gt; 'mongodb',
    'host'     =&gt; ['server1', 'server2'],
    'port'     =&gt; env('DB_PORT', 27017),
    'database' =&gt; env('DB_DATABASE'),
    'username' =&gt; env('DB_USERNAME'),
    'password' =&gt; env('DB_PASSWORD'),
    'options'  =&gt; ['replicaSet' =&gt; 'replicaSetName']
],
</code></pre></div>
</div>

<footer>
    <div style="text-align: center;">
        Developed by <a href="https://github.com/jenssegers">Jenssegers</a> | Docs by <a href="https://github.com/pi0">pi0</a>
        <br>
        Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.
    </div>
</footer>

<script src="../../js/jquery-1.10.2.min.js"></script>
<script src="../../js/bootstrap-3.0.3.min.js"></script>
<script src="../../js/highlight.pack.js"></script>
<script src="../../js/jquery.nanoscroller.min.js"></script>
<script>var base_url = '../..';</script>
<script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
<script src="../../js/base.js"></script>

<div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
</body>
</html>