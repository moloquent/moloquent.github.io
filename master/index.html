<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
        <link rel="canonical" href="https://moloquent.github.io/master/">
    
        <link rel="shortcut icon" href="../img/favicon.ico">

    <title>Getting Started - Moloquent</title>

    <link href="../css/application.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                            (i[r].q = i[r].q || []).push(arguments)
                        }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-83645466-1', 'moloquent.github.io');
            ga('send', 'pageview');
        </script>
    
</head>

<body>

<div class="navbar navbar-default navbar-fixed-top"
     role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="./">Moloquent</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
                
                    
                        <li class="active">
                            <a href="./">Getting Started</a>
                        </li>
                    
                
                    
                        <li >
                            <a href="basic/">Basic Usage</a>
                        </li>
                    
                
                    
                        <li >
                            <a href="advanced/">Advanced</a>
                        </li>
                    
                
                    
                        <li >
                            <a href="relations/">Relations</a>
                        </li>
                    
                
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i>
                    </a>
                </li>
                
                    <li>
                        <a href="https://github.com/moloquent" target="_blank">
                            
                                <i class="fa fa-github"></i>
                            
                        </a>
                    </li>
                
                <li class="dropdown">
                    <button class="btn dropdown-toggle btn-danger btn-version" data-toggle="dropdown">
                        Master
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="">
                                    Master
                                </a>
                            </li>
                        
                    </ul>
                </li>
            </ul>

        </div>
    </div>
</div>

<div class="container" id="content">
    <div class="col-md-3">
            <div class="bs-sidebar hidden-print affix nano" role="complementary">
    <div class="nano-content">
        <ul class="nav bs-sidenav">
            
            <li class="main active"><a href="#moloquent">Moloquent</a></li>
            
            <li><a href="#installation">Installation</a></li>
            
            <li><a href="#configuration">Configuration</a></li>
            
            <li><a href="#auth">Auth</a></li>
            
            <li><a href="#queues">Queues</a></li>
            
            <li><a href="#passport">Passport</a></li>
            
            
        </ul>
    </div>
</div>
    </div>
    <div class="col-md-9" role="main">

<h1 id="moloquent">Moloquent<a class="headerlink" href="#moloquent" title="Permanent link">#</a></h1>
<p>An <strong>Eloquent</strong> model and Query builder with support for MongoDB, using the original <strong>Laravel</strong> API.<br />
This library extends the original Laravel classes, so it uses exactly the same methods.  </p>
<p><a href="https://packagist.org/packages/moloquent/moloquent"><img alt="Latest Version" src="http://img.shields.io/packagist/v/moloquent/moloquent.svg" /></a>
<a href="https://packagist.org/packages/moloquent/moloquent"><img alt="Downloads" src="http://img.shields.io/packagist/dt/moloquent/moloquent.svg" /></a>
<a href="https://travis-ci.org/moloquent/moloquent"><img alt="Build Status" src="http://img.shields.io/travis/moloquent/moloquent.svg" /></a>
<a href="https://coveralls.io/r/moloquent/moloquent?branch=master"><img alt="Coverage Status" src="http://img.shields.io/coveralls/moloquent/moloquent.svg" /></a></p>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">#</a></h2>
<p>Make sure you have the MongoDB PHP driver installed.
You can find installation instructions at 
<a href="http://php.net/manual/en/mongodb.installation.php">http://php.net/manual/en/mongodb.installation.php</a>.</p>
<h4 id="installation-using-composer">Installation using composer<a class="headerlink" href="#installation-using-composer" title="Permanent link">#</a></h4>
<h5 id="bleeding-edge">Bleeding Edge<a class="headerlink" href="#bleeding-edge" title="Permanent link">#</a></h5>
<p>We try our best to commit well tested and stable commits to this branch and every commit is already unit tested.
If you want to get always bleeding edge version use this:</p>
<pre><code class="bash">composer require moloquent/moloquent:dev-master
</code></pre>

<h5 id="stable">Stable<a class="headerlink" href="#stable" title="Permanent link">#</a></h5>
<pre><code class="bash">composer require moloquent/moloquent
</code></pre>

<h4 id="for-laravel-50">For Laravel &gt;= 5.0<a class="headerlink" href="#for-laravel-50" title="Permanent link">#</a></h4>
<p>Add the service provider in <code>config/app.php</code>:</p>
<pre><code class="php">Moloquent\MongodbServiceProvider::class,
</code></pre>

<h5 id="alias">Alias<a class="headerlink" href="#alias" title="Permanent link">#</a></h5>
<p>You may also register an alias for the MongoDB model by adding the following to the alias array in <code>config/app.php</code>:</p>
<pre><code class="php">'Moloquent'       =&gt; 'Moloquent\Eloquent\Model',
</code></pre>

<p>This will allow you to use the registered alias like:</p>
<pre><code class="php">class MyModel extends Moloquent {}
</code></pre>

<h4 id="for-lumen">For <a href="http://lumen.laravel.com">Lumen</a><a class="headerlink" href="#for-lumen" title="Permanent link">#</a></h4>
<p>Add the service provider in <code>bootstrap/app.php</code>. In this file, you will also need to enable Eloquent. You must however ensure that your call to <code>$app-&gt;withEloquent();</code> is <strong>below</strong> where you have registered the <code>MongodbServiceProvider</code>:</p>
<pre><code class="php">$app-&gt;register('Moloquent\MongodbServiceProvider');
$app-&gt;withEloquent();
</code></pre>

<p>The service provider will register a mongodb database extension with the original database manager. There is no need to register additional facades or objects. When using mongodb connections, Laravel will automatically provide you with the corresponding mongodb objects.</p>
<p>For usage outside Laravel, check out the <a href="https://github.com/illuminate/database/blob/master/README.md">Capsule manager</a> and add:</p>
<pre><code class="php">$capsule-&gt;getDatabaseManager()-&gt;extend('mongodb', function($config)
{
    return new \Moloquent\Connection($config);
});
</code></pre>

<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">#</a></h2>
<p>Change your default database connection name in <code>config/database.php</code>:</p>
<pre><code class="php">'default' =&gt; env('DB_CONNECTION', 'mongodb'),
</code></pre>

<p>And add a new mongodb connection:</p>
<pre><code class="php">'mongodb' =&gt; [
    'driver'   =&gt; 'mongodb',
    'host'     =&gt; env('DB_HOST', 'localhost'),
    'port'     =&gt; env('DB_PORT', 27017),
    'database' =&gt; env('DB_DATABASE'),
    'username' =&gt; env('DB_USERNAME'),
    'password' =&gt; env('DB_PASSWORD'),
    'use_mongo_id' =&gt; false,
    'options' =&gt; [
        'db' =&gt; 'admin', // Sets the authentication database required by mongo 3
        //['replicaSet' =&gt; 'replicaSetName'], // Connect to multiple servers or replica sets
    ]
],
</code></pre>

<h2 id="auth">Auth<a class="headerlink" href="#auth" title="Permanent link">#</a></h2>
<p>If you want to use Laravel's native Auth functionality, register this included service provider:</p>
<pre><code class="php">Moloquent\Auth\PasswordResetServiceProvider::class,
</code></pre>

<p>This service provider will slightly modify the internal DatabaseReminderRepository to add support for MongoDB based password reminders. If you don't use password reminders, you don't have to register this service provider and everything else should work just fine.</p>
<h2 id="queues">Queues<a class="headerlink" href="#queues" title="Permanent link">#</a></h2>
<p>Add the service provider in <code>config/app.php</code>: </p>
<pre><code class="php">Moloquent\MongodbQueueServiceProvider::class,
</code></pre>

<p>If you want to use MongoDB as your database backend, change the the driver in <code>config/queue.php</code>:</p>
<pre><code class="php">'connections' =&gt; [
    'database' =&gt; [
        'driver' =&gt; 'mongodb',
        'table'  =&gt; 'jobs',
        'queue'  =&gt; 'default',
        'expire' =&gt; 60,
    ],
</code></pre>

<p>If you want to use MongoDB to handle failed jobs, change the database in <code>config/queue.php</code>:</p>
<pre><code class="php">'failed' =&gt; [
    'database' =&gt; 'mongodb',
    'table'    =&gt; 'failed_jobs',
    ],
</code></pre>

<h2 id="passport">Passport<a class="headerlink" href="#passport" title="Permanent link">#</a></h2>
<p><strong>dev-master only</strong>
In order to use laravel passport with your models, add <code>PassportServiceProvider</code> service provider in <code>config/app.php</code>: </p>
<pre><code class="php">Moloquent\Passport\PassportServiceProvider::class,
</code></pre></div>
</div>

<footer>
    <div style="text-align: center;">
        Developed by <a href="https://github.com/jenssegers">Jenssegers</a> | Docs by <a href="https://github.com/pi0">pi0</a>
        <br>
        Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.
    </div>
</footer>

<script src="../js/jquery-1.10.2.min.js"></script>
<script src="../js/bootstrap-3.0.3.min.js"></script>
<script src="../js/highlight.pack.js"></script>
<script src="../js/jquery.nanoscroller.min.js"></script>
<script>var base_url = '..';</script>
<script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
<script src="../js/base.js"></script>

<div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
</body>
</html>